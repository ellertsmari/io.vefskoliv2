# LTI 1.3 Integration Environment Variables
# Copy this file to .env.local and update the values

# ===== EXISTING ENVIRONMENT VARIABLES =====
# Keep your existing environment variables (MongoDB, NextAuth, etc.)

# ===== LTI CONFIGURATION =====
# Canvas LTI Settings
LTI_ISSUER=https://canvas.instructure.com
LTI_KEY_SET_URL=https://canvas.instructure.com/api/lti/security/jwks
LTI_AUTH_TOKEN_URL=https://canvas.instructure.com/login/oauth2/token
LTI_AUTH_LOGIN_URL=https://canvas.instructure.com/api/lti/authorize_redirect

# These will be provided by Canvas when you create your Developer Key
LTI_CLIENT_ID=your_client_id_from_canvas_developer_key
LTI_DEPLOYMENT_ID=your_deployment_id_from_canvas

# RSA Key Pair for JWT Signing
# IMPORTANT: Generate your own RSA key pair - DO NOT use shared keys!
# Run these commands to generate your keys:
# openssl genrsa -out lti_private_key.pem 2048
# openssl pkcs8 -topk8 -inform PEM -outform PEM -nocrypt -in lti_private_key.pem -out lti_private_key_pkcs8.pem
# openssl rsa -in lti_private_key.pem -pubout -out lti_public_key.pem

LTI_TOOL_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
REPLACE_WITH_YOUR_GENERATED_PRIVATE_KEY
-----END PRIVATE KEY-----"

LTI_TOOL_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
REPLACE_WITH_YOUR_GENERATED_PUBLIC_KEY
-----END PUBLIC KEY-----"

# Key identifier (can be any string, but keep it consistent)
LTI_KEY_ID=lms-key-1

# Your application URL (update this to your actual domain in production)
NEXTAUTH_URL=https://your-domain.com

# ===== DEVELOPMENT/TESTING SETTINGS =====
# For Canvas Cloud (canvas.instructure.com)
# LTI_ISSUER=https://canvas.instructure.com

# For Canvas self-hosted installations, update these URLs:
# LTI_ISSUER=https://your-canvas-domain.edu
# LTI_KEY_SET_URL=https://your-canvas-domain.edu/api/lti/security/jwks
# LTI_AUTH_TOKEN_URL=https://your-canvas-domain.edu/login/oauth2/token
# LTI_AUTH_LOGIN_URL=https://your-canvas-domain.edu/api/lti/authorize_redirect